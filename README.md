# JavaFX Messenger — сервер + клієнт (навчальний проєкт)

Невеликий месенджер з окремими модулями **server** і **client**. Проєкт розбитий на 7 навчальних уроків; наразі реалізовано Уроки #1–#2, решта у статусі WIP.

---

## Мета
- Покроково зібрати робочий шаблон клієнтського JavaFX‑додатка та простого сервера.
- Закріпити роботу з **Gradle**, **Scene Builder**, FXML та стилями.
- Далі (уроки #3–#7): додати мережеву взаємодію, просту авторизацію, збереження історії, перелік чатів тощо.

---

## Технології
- **Java 21**
- **Gradle 8+** (Kotlin DSL або Groovy — залежно від репо)
- **JavaFX 21+** (FXML, CSS)
- Сервер: Java (план — `java.nio`/`ServerSocketChannel` або Netty; поки що каркас)

---

## Структура репозиторію
```
root/
  settings.gradle[.kts]
  build.gradle[.kts]
  gradle/
  client/
    build.gradle[.kts]
    src/main/java/...        # контролери, моделі
    src/main/resources/
      fxml/                   # *.fxml
      css/                    # стилі
  server/
    build.gradle[.kts]
    src/main/java/...        # серверні класи / заглушки
```

---

## Як запустити
1. **Встановіть JDK 21** і переконайтеся, що `java -version` показує коректну версію.
2. **Клон**:
   ```bash
   git clone <url>
   cd <folder>
   ```
3. **Перевірка збірки**:
   ```bash
   ./gradlew tasks
   ```
4. **Запуск клієнта**:
   ```bash
   ./gradlew :client:run
   ```
5. **Запуск сервера** (поки каркас):
   ```bash
   ./gradlew :server:run
   ```

> Якщо використовуєте Windows PowerShell: замініть `./gradlew` на `gradlew`.

---

## Налаштування JavaFX Scene Builder
- Встановіть **Scene Builder** з офіційного сайту Gluon.
- У IDE (IntelliJ IDEA): *Settings → Languages & Frameworks → JavaFX → Path to SceneBuilder*.
- FXML-файли знаходяться у `client/src/main/resources/fxml/` — відкривайте їх напряму в Scene Builder.

---

## Уроки

### #1 — створення проєкту, перше вікно, Scene Builder ✅
**Що зроблено**
- Ініціалізовано мульти-модульний Gradle‑проєкт `server` + `client`.
- Додано мінімальну JavaFX‑апку з головною сценою (`Stage`, `Scene`).
- Під’єднано FXML, створено перший контролер.
- Налаштовано відкриття FXML у Scene Builder.

**Команди**
```bash
./gradlew :client:run
```

**Файли**
- `client/src/main/resources/fxml/main.fxml` — перше вікно
- `client/src/main/java/.../MainController.java` — контролер

---

### #2 — стилізація, модифікація FXML, обробка подій ✅
**Що зроблено**
- Додано окремий CSS (`resources/css/app.css`) і підключено до сцени/FXML.
- Розмітку FXML перероблено під базове вікно чату (ліва панель, список, хедер, область повідомлень).
- Додано приклади обробників натискань (кнопка «Надіслати», обробка тексту).

**Приклади**
- FXML: `onAction="#onSendClick"`
- Контролер: `public void onSendClick(ActionEvent e) { ... }`

---

### #3 — інтерфейс сервера та оновлення чату (WIP)
**План**
- Створити консольний/FX-інтерфейс для сервера: лог підключень, повідомлення від клієнтів.
- Виводити повідомлення у вікно чату клієнта після їх отримання від сервера.
- Оновлення списку повідомлень у клієнта в режимі реального часу.

---

### #4 — підключення користувачів до сервера (WIP)
**План**
- Реалізувати серверну логіку прийому кількох клієнтів одночасно.
- Кожен клієнт отримує власний сокет/потік.
- Сервер транслює повідомлення всім підключеним користувачам (broadcast).

---

### #5 — панель підключення до сервера, оновлення інтерфейсу клієнта (WIP)
**План**
- У клієнті додати панель для введення IP‑адреси та порту сервера.
- Кнопка «Підключитися» / «Відключитися».
- Стан підключення відображається у статус-барі клієнта.

---

### #6 — серверна частина, дизайн під IoC of Spring (WIP)
**План**
- Перевести серверну частину на Spring (IoC‑контейнер).
- Бін-сервіси: менеджер підключень, менеджер повідомлень, логер.
- Розділення на рівні: контролери (обробка запитів), сервіси, репозиторії.

---

### #7 — робота з сокетами, пул користувачів, дані для клієнта (WIP)
**План**
- Використати неблокуючі сокети для масштабованості.
- Створити пул користувачів на сервері: кожен має свій ID, ім’я, стан.
- Клієнт при підключенні отримує інформацію про інших користувачів (список онлайн).
- Сервер зберігає/оновлює цей стан і транслює оновлення у клієнт.

---

## Середовище/конфіг
- Порт сервера: `5050` (змінюється через `SERVER_PORT` або файл налаштувань — буде додано в #3).
- Адреса сервера на клієнті: `localhost:5050` (поки заглушка, теж з’явиться в #3).

---

## Команди Gradle (приклад)
```bash
# Запуск модулів
./gradlew :client:run
./gradlew :server:run

# Збірка всього проєкту
./gradlew build

# Лінт/перевірки (додамо пізніше)
./gradlew check
```

---

## Поради по налагодженню
- Якщо JavaFX не стартує: перевірте JDK 21, змініть шляхи до JavaFX у Gradle (якщо використовуєте не modular‑Java).
- Scene Builder не відкриває FXML? Переконайтесь, що **fx:controller** вказує на існуючий клас, а імпорти контролів коректні.
- CSS не застосовується: перевірте підключення стилю у сцені або у кореневому вузлі FXML.


