# JavaFX Messenger — сервер + клієнт (навчальний проєкт)

Невеликий месенджер з окремими модулями **server** і **client**. Проєкт розбитий на 7 навчальних уроків; наразі реалізовано Уроки #1–#2, решта у статусі WIP.

---

## Мета
- Покроково зібрати робочий шаблон клієнтського JavaFX‑додатка та простого сервера.
- Закріпити роботу з **Gradle**, **Scene Builder**, FXML та стилями.
- Далі (уроки #3–#7): додати мережеву взаємодію, просту авторизацію, збереження історії, перелік чатів тощо.

---

## Технології
- **Java 21**
- **Gradle 8+** (Kotlin DSL або Groovy — залежно від репо)
- **JavaFX 21+** (FXML, CSS)
- Сервер: Java (план — `java.nio`/`ServerSocketChannel` або Netty; поки що каркас)

---

## Структура репозиторію
```
root/
  settings.gradle[.kts]
  build.gradle[.kts]
  gradle/
  client/
    build.gradle[.kts]
    src/main/java/...        # контролери, моделі
    src/main/resources/
      fxml/                   # *.fxml
      css/                    # стилі
  server/
    build.gradle[.kts]
    src/main/java/...        # серверні класи / заглушки
```

---

## Як запустити
1. **Встановіть JDK 21** і переконайтеся, що `java -version` показує коректну версію.
2. **Клон**:
   ```bash
   git clone <url>
   cd <folder>
   ```
3. **Перевірка збірки**:
   ```bash
   ./gradlew tasks
   ```
4. **Запуск клієнта**:
   ```bash
   ./gradlew :client:run
   ```
5. **Запуск сервера** (поки каркас):
   ```bash
   ./gradlew :server:run
   ```

> Якщо використовуєте Windows PowerShell: замініть `./gradlew` на `gradlew`.

---

## Налаштування JavaFX Scene Builder
- Встановіть **Scene Builder** з офіційного сайту Gluon.
- У IDE (IntelliJ IDEA): *Settings → Languages & Frameworks → JavaFX → Path to SceneBuilder*.
- FXML-файли знаходяться у `client/src/main/resources/fxml/` — відкривайте їх напряму в Scene Builder.

---

## Уроки

### #1 — створення проєкту, перше вікно, Scene Builder ✅
**Що зроблено**
- Ініціалізовано мульти-модульний Gradle‑проєкт `server` + `client`.
- Додано мінімальну JavaFX‑апку з головною сценою (`Stage`, `Scene`).
- Під’єднано FXML, створено перший контролер.
- Налаштовано відкриття FXML у Scene Builder.

**Команди**
```bash
./gradlew :client:run
```

**Файли**
- `client/src/main/resources/fxml/main.fxml` — перше вікно
- `client/src/main/java/.../MainController.java` — контролер

---

### #2 — стилізація, модифікація FXML, обробка подій ✅
**Що зроблено**
- Додано окремий CSS (`resources/css/app.css`) і підключено до сцени/FXML.
- Розмітку FXML перероблено під базове вікно чату (ліва панель, список, хедер, область повідомлень).
- Додано приклади обробників натискань (кнопка «Надіслати», обробка тексту).

**Приклади**
- FXML: `onAction="#onSendClick"`
- Контролер: `public void onSendClick(ActionEvent e) { ... }`

---

### #3 — мережа: клієнт ↔ сервер (WIP)
**План**
- Запуск простого TCP‑сервера (порт `5050` за замовчуванням).
- Клієнтський конектор (non‑blocking) + черга вхідних/вихідних повідомлень.
- Протокол повідомлень: JSON‑рядки з маркером кінця (наприклад, `\n`).

### #4 — модель даних + простий чат (WIP)
- Модель повідомлення: автор, час, текст.
- Локальна історія на клієнті (список у пам’яті; опційно — файл).

### #5 — базова авторизація (WIP)
- Екрани логіну/реєстрації (дефолтно — «гість»).
- Валідація полів, мінімальні перевірки на сервері.

### #6 — кімнати/канали (WIP)
- Перелік кімнат з лівої панелі; приєднання/вихід.
- Розмежування повідомлень по кімнатах.

### #7 — поліринг і збірка (WIP)
- Меню налаштувань: тема, адреса сервера, порт.
- Збірка jar/образів (JavaFX `jlink`/`jpackage`).

---

## Середовище/конфіг
- Порт сервера: `5050` (змінюється через `SERVER_PORT` або файл налаштувань — буде додано в #3).
- Адреса сервера на клієнті: `localhost:5050` (поки заглушка, теж з’явиться в #3).

---

## Команди Gradle (приклад)
```bash
# Запуск модулів
./gradlew :client:run
./gradlew :server:run

# Збірка всього проєкту
./gradlew build

# Лінт/перевірки (додамо пізніше)
./gradlew check
```

---

## Поради по налагодженню
- Якщо JavaFX не стартує: перевірте JDK 21, змініть шляхи до JavaFX у Gradle (якщо використовуєте не modular‑Java).
- Scene Builder не відкриває FXML? Переконайтесь, що **fx:controller** вказує на існуючий клас, а імпорти контролів коректні.
- CSS не застосовується: перевірте підключення стилю у сцені або у кореневому вузлі FXML.


